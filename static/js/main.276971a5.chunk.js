(this.webpackJsonpbookshelf=this.webpackJsonpbookshelf||[]).push([[0],{24:function(n,e,t){n.exports=t(35)},35:function(n,e,t){"use strict";t.r(e);var o=t(0),a=t.n(o),r=t(20),i=t.n(r),c=t(9),l=t(8),s=t(1),u=t(3),b=t(4),h="#2b2b2b",d="#2b4162",f="#8f754f",p="#ffffff",m="0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)",v=function(){return a.a.createElement("svg",{fill:"#2b4162",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M7 10l5 5 5-5z"}))},g=t(14),x="https://reactnd-books-api.udacity.com",k=localStorage.token;k||(k=localStorage.token=Math.random().toString(36).substr(-8));var E={Accept:"application/json",Authorization:k};function w(){var n=Object(u.a)(["\n  position: absolute;\n  left: 10px;\n  top: 20px;\n\n  border-radius: 50%;\n  background: ",";\n  box-shadow: ",";\n\n  width: 40px;\n  height: 40px;\n  \n  cursor: pointer;\n\n  .book-menu-wrapper {\n    display: flex;\n    flex-direction: column;\n\n    border-radius: 4px;\n\n    width: 150px;\n    z-index: 5;\n    button {\n      text-align: start;\n      background: ",";\n      border: none;\n      border-radius: 4px;\n      \n      height: 28px;\n      cursor: pointer;\n\n      :hover {\n        background: ",";\n        color: ",";\n      }\n    }\n  }\n"]);return w=function(){return n},n}var y=function(n){var e=n.book,t=n.setBooks,r=n.books,i=Object(o.useState)(!1),c=Object(l.a)(i,2),s=c[0],u=c[1],b=function(n,e){n.shelf!==e&&function(n,e){return fetch("".concat(x,"/books/").concat(n.id),{method:"PUT",headers:Object(g.a)(Object(g.a)({},E),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:e})}).then((function(n){return n.json()}))}(n,e).then((function(o){n.shelf=e,t(r.filter((function(e){return e.id!==n.id})).concat([n])),u(!1)}))};return a.a.createElement(j,{onClick:function(){return u(!s)}},a.a.createElement(v,null),s&&a.a.createElement("div",{className:"book-menu-wrapper"},a.a.createElement("button",{value:"currentlyReading",onClick:function(n){return b(e,n.target.value)}},"Currently Reading"),a.a.createElement("button",{value:"wantToRead",onClick:function(n){return b(e,n.target.value)}},"Want to Read"),a.a.createElement("button",{value:"read",onClick:function(n){return b(e,n.target.value)}},"Read"),"/"===window.location.pathname&&a.a.createElement("button",{value:"remove",onClick:function(n){return b(e,n.target.value)}},"Remove")))},j=b.c.div(w(),p,m,p,d,p);function O(){var n=Object(u.a)(["\n  position: relative;\n  display: flex;\n\n  width: 500px;\n  margin-bottom: 20px;\n  padding: 20px;\n\n  :hover {\n    box-shadow: ",";\n    border-radius: 4px;\n  }\n\n  a {\n    text-decoration: none;\n    h3, h4 {\n      margin: 0;\n      color: ",";\n    }\n\n    .book-authors {\n      font-size: 0.9em;\n      color: ",";\n    }\n  }\n\n  .description {\n    font-size: 14px;\n  }\n\n  .book-cover {\n    box-shadow: ",";\n    width: 128px;\n  }\n"]);return O=function(){return n},n}var B=function(n){var e=n.book,t=n.setBooks,r=n.books,i=e.title,c=e.subtitle,s=e.authors,u=e.imageLinks,b=e.previewLink,h=e.categories,d=e.description,f=Object(o.useState)(d),p=Object(l.a)(f,2),m=p[0],v=p[1];return Object(o.useEffect)((function(){var n,e;void 0!==m&&m.length>150&&(e=150,(n=m).length>e&&v(n.substring(0,e)+"..."))}),[m]),a.a.createElement(N,null,a.a.createElement("img",{src:u?u.thumbnail:"http://via.placeholder.com/128x193?text=No%20Cover",alt:"thumbnail of ".concat(i),style:{marginRight:"20px"}}),a.a.createElement(y,{book:e,setBooks:t,books:r}),a.a.createElement("div",null,a.a.createElement("a",{href:b,target:"__blank"},a.a.createElement("h3",null,i),a.a.createElement("h4",{className:"subtitle"},c),a.a.createElement("div",{className:"book-authors"},Array.isArray(s)?s.join(", "):"")),h&&a.a.createElement("div",{className:"description"},h),void 0!==d&&a.a.createElement("p",{className:"description"},m)))},N=b.c.div(O(),m,h,f,m);function S(){var n=Object(u.a)(["\n  h2 {\n    border-bottom: 1px solid ",";\n  }\n"]);return S=function(){return n},n}var R=function(n){var e=n.title,t=n.books,o=n.setBooks;return a.a.createElement(z,null,a.a.createElement("h2",null,e),a.a.createElement("div",{className:"books-container"},t.map((function(n){return a.a.createElement(B,{key:n.title,book:n,setBooks:o,books:t})}))))},z=b.c.div(S(),d),C=function(){return a.a.createElement("svg",{fill:"#2b4162",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))};function A(){var n=Object(u.a)(["\n  position: relative;\n\n  padding: 0 40px;\n\n  .search {\n    position: fixed;\n    right: 25px;\n    top: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background: ",";\n    border-radius: 50%;\n    box-shadow: ",";\n\n    width: 55px;\n    height: 55px;\n    outline: 0;\n\n    svg {\n      width: 35px;\n      height: 35px;\n\n      fill: ",";\n\n      cursor: pointer;\n    }\n  }\n"]);return A=function(){return n},n}var T=function(n){var e=n.bookShelf,t=n.setBooks,o=(n.books,e.filter((function(n){return"currentlyReading"===n.shelf}))),r=e.filter((function(n){return"wantToRead"===n.shelf})),i=e.filter((function(n){return"read"===n.shelf}));return a.a.createElement(J,null,a.a.createElement("h1",null,"My bookshelf"),a.a.createElement(c.b,{to:"/search",className:"search"},a.a.createElement(C,null)),a.a.createElement(R,{title:"Currently Reading",books:o,setBooks:t}),a.a.createElement(R,{title:"Want to Read",books:r,setBooks:t}),a.a.createElement(R,{title:"Read",books:i,setBooks:t}))},J=b.c.div(A(),d,m,p),M=function(){return a.a.createElement("svg",{height:"329pt",viewBox:"0 0 329.26933 329",width:"329pt",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"}))};function L(){var n=Object(u.a)(["\n  position: relative;\n\n  .search-books-bar {\n    position: fixed;\n    top: 0;\n    display: flex;\n    align-items: center;\n\n    background: ",";\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 0 6px rgba(0, 0, 0, 0.23);\n\n    width: 100%;\n    z-index: 2;\n\n    a {\n      display: flex;\n      justify-content: center;\n\n      width: 5%;\n      padding: 15px;\n      svg {\n        width: 20px;\n        height: 20px;\n        fill: ",";\n      }\n    }\n\n    input {\n      font-size: 1.25em;\n      color: ",";\n      border: none;\n      outline: none;\n      \n      width: 100%;\n      padding: 20px 10px;\n\n      ::placeholder {\n        color: ",";\n      }\n    }\n  }\n\n  .result-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n\n    padding: 20px 60px;\n    margin-top: 80px;\n  }\n"]);return L=function(){return n},n}var P=function(n){var e=n.books,t=n.searchBook,r=n.setBooks,i=Object(o.useState)(""),s=Object(l.a)(i,2),u=s[0],b=s[1];return a.a.createElement(W,null,a.a.createElement("div",{className:"search-books-bar"},a.a.createElement(c.b,{to:"/",className:"close-search"},a.a.createElement(M,null)),a.a.createElement("input",{type:"text",placeholder:"Search by title",value:u,onChange:function(n){return e=n.target.value,b(e),void t(e);var e}})),a.a.createElement("div",{className:"result-container"},function(){if(u)return 0===e.length?a.a.createElement("h4",null,"No results found"):e.map((function(n){return a.a.createElement(B,{key:n.id,book:n,books:e,setBooks:r})}))}()))},W=b.c.div(L(),d,p,d,d),_=function(){var n=Object(o.useState)([]),e=Object(l.a)(n,2),t=e[0],r=e[1],i=Object(o.useState)([]),c=Object(l.a)(i,2),u=c[0],b=c[1];0===u.length&&fetch("".concat(x,"/books"),{headers:E}).then((function(n){return n.json()})).then((function(n){return n.books})).then((function(n){b(n)}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{exact:!0,path:"/"},a.a.createElement(T,{bookShelf:u,setBooks:r,books:t})),a.a.createElement(s.a,{path:"/search"},a.a.createElement(P,{books:t,searchBook:function(n){(function(n){return fetch("".concat(x,"/search"),{method:"POST",headers:Object(g.a)(Object(g.a)({},E),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:n})}).then((function(n){return n.json()})).then((function(n){return n.books}))})(n).then((function(n){if(!Array.isArray(n))return r([]);n.map((function(n){var e=u.find((function(e){return e.id===n.id}));if(e)return n.shelf=e.shelf,n;n.shelf="none"})),r(n)}))},setBooks:r})))};function q(){var n=Object(u.a)(["\n  html {\n    box-sizing: border-box;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: 'Roboto', sans-serif;\n  }\n"]);return q=function(){return n},n}var F=Object(b.b)(q());function H(){var n=Object(u.a)(["\n  body {\n    height: 100%;\n    line-height: 1.5;\n  }\n\n  .app {\n    background: ",";\n  }\n\n  h1, h2, h3, h4, h5 {\n    color: ",";\n  }\n\n  p {\n    color: ",";\n  }\n\n  /* books card styling */\n  .books-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  \n    list-style-type: none;\n    padding: 10px;\n    margin-bottom: 0;\n  }\n"]);return H=function(){return n},n}var I=Object(b.b)(H(),p,d,h);function U(){var n=Object(u.a)(["\n  ","\n  ","\n"]);return U=function(){return n},n}var V=Object(b.a)(U(),F,I);i.a.render(a.a.createElement(c.a,null,a.a.createElement(_,null),a.a.createElement(V,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.276971a5.chunk.js.map